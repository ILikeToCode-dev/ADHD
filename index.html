<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ThinkSharp: ADHD Focus Quiz</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <div id="loader" class="loader">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
    <div id="quiz" class="quiz-container" style="display:none;">
      <div class="question" id="question"><p>Loading...</p></div>
      <div class="options" id="options"></div>
      <div class="labels">
        <span>Never</span>
        <span>Rarely</span>
        <span>Sometimes</span>
        <span>Often</span>
        <span>Always</span>
      </div>
    </div>
    <div id="result-screen" style="display:none;">
      <div class="quiz-result" id="score"></div>
      <div class="task-list" id="tasks"></div>
      <button onclick="resetQuiz()">Retake Quiz</button>
    </div>
  </div>

  <script>
    const questions = [
      { q: "You find it hard to sit still for long periods.", scores: [0,1,2,3] },
      { q: "You get distracted easily during tasks.", scores: [0,1,2,3] },
      { q: "You have trouble organizing tasks or activities.", scores: [0,1,2,3] },
      { q: "You frequently forget things like appointments or obligations.", scores: [0,1,2,3] },
      { q: "You feel like your thoughts are racing and hard to control.", scores: [0,1,2,3] }
    ];
    const tasksBySeverity = {
      mild: [
        "Try a 5-minute mindfulness breathing exercise after each task.",
        "Use a timer (Pomodoro) for 25 minutes, then rest.",
        "Keep a notepad handy for quick to-dos."
      ],
      moderate: [
        "Designate a distraction-free workspace with minimal stimuli.",
        "Create a daily checklist each morning and tick off items.",
        "Use focus apps to block distracting sites for 45 minutes."
      ],
      severe: [
        "Break tasks into 5-minute micro-tasks and reward yourself after each.",
        "Schedule structured breaks: 15 minutes work / 5 minutes move/stretch.",
        "Seek accountability: pair up with a study buddy and check in every hour."
      ]
    };

    let current = 0, total = 0;
    const maxScore = questions.length * 3;

    window.onload = () => {
      setTimeout(() => {
        document.getElementById('loader').style.display = 'none';
        document.getElementById('quiz').style.display = 'block';
        loadQuestion();
      }, 2000);
    };

    function loadQuestion() {
      const q = questions[current];
      document.getElementById('question').innerHTML = `<p>${q.q}</p>`;
      const opts = document.getElementById('options');
      opts.innerHTML = '';
      ['Never','Rarely','Sometimes','Often','Always'].forEach((label,i) => {
        const c = document.createElement('div');
        c.className = `circle ${['disagree1','disagree2','neutral','agree1','agree2'][i]}`;
        c.onclick = () => select(i);
        opts.appendChild(c);
      });
    }

    function select(idx) {
      total += questions[current].scores[idx>3?3:idx];
      current++;
      if (current < questions.length) loadQuestion();
      else showResult();
    }

    function showResult() {
      document.getElementById('quiz').style.display = 'none';
      const percent = Math.round((total / maxScore) * 100);
      const scoreEl = document.getElementById('score');
      scoreEl.textContent = `Focus Score: ${percent}%`;
      scoreEl.style.color = percent < 40 ? '#7CFC00' : percent <= 70 ? '#FFD700' : '#FF4500';
      // choose tasks
      let severity = percent < 40 ? 'mild' : percent <= 70 ? 'moderate' : 'severe';
      const tasksEl = document.getElementById('tasks');
      tasksBySeverity[severity].forEach(txt => {
        const div = document.createElement('div');
        div.className = 'task-item';
        div.innerHTML = `<svg class="task-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="currentColor"/></svg><p>${txt}</p>`;
        tasksEl.appendChild(div);
      });
      document.getElementById('result-screen').style.display = 'block';
    }

    function resetQuiz() {
      current = total = 0;
      document.getElementById('tasks').innerHTML = '';
      document.getElementById('result-screen').style.display = 'none';
      document.getElementById('quiz').style.display = 'block';
      loadQuestion();
    }
  </script>
</body>
</html>
